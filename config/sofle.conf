# Copyright (c) 2020 Ryan Cross
# SPDX-License-Identifier: MIT

# Uncomment the following line to enable the Sofle OLED Display
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y

# nice_oled widget configuration
CONFIG_NICE_OLED_ON=y

# Peripheral animation (right half)
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL=y
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_GEM=y
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_CAT=n

# ── Central Display (left half) ──
# Battery, connection status, profile, layer, and modifiers are enabled by default.
# Enable WPM graph (defaults to bongo cat animation otherwise)
CONFIG_NICE_OLED_WIDGET_WPM_GRAPH=y
CONFIG_NICE_OLED_WIDGET_WPM_BONGO_CAT=n

# ── Power Saving ──
# Blank display after idle (overrides nice_oled default of 'n')
CONFIG_ZMK_DISPLAY_BLANK_ON_IDLE=y

# Enter idle state after 30s of inactivity (default)
CONFIG_ZMK_IDLE_TIMEOUT=30000

# Enable deep sleep after 15 min of inactivity
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# Slow the Gem animation to ~120ms/frame (1920ms / 16 frames)
# Halves CPU wake frequency vs default 960ms cycle
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_MS=1920

# Lower display thread priority (higher number = lower priority)
# Lets keyboard scanning/BLE take precedence over rendering
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_PRIORITY=7

# Uncomment these two lines to add support for encoders
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Uncomment this line below to add rgb underglow / backlight support
CONFIG_ZMK_RGB_UNDERGLOW=n

# Uncomment the line below to disable external power toggling by the underglow.
# By default toggling the underglow on and off also toggles external power
# on and off. This also causes the display to turn off.
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n

CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y
