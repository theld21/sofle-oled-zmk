# Copyright (c) 2020 Ryan Cross
# SPDX-License-Identifier: MIT

# ── Display ──
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y

# nice_oled widget configuration
CONFIG_NICE_OLED_ON=y

# Peripheral animation (right half)
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL=y
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_GEM=y
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_CAT=n

# Central Display (left half) - WPM graph instead of bongo cat
CONFIG_NICE_OLED_WIDGET_WPM_GRAPH=y
CONFIG_NICE_OLED_WIDGET_WPM_BONGO_CAT=n

# ── Power Saving ──
# Blank display after idle
CONFIG_ZMK_DISPLAY_BLANK_ON_IDLE=y

# Enter idle state after 10 min of inactivity (display blanks here)
CONFIG_ZMK_IDLE_TIMEOUT=600000

# Enable deep sleep after 15 min of inactivity (keyboard fully off)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# Slow the Gem animation to ~120ms/frame (1920ms / 16 frames)
# Halves CPU wake frequency vs default 960ms cycle
CONFIG_NICE_OLED_WIDGET_ANIMATION_PERIPHERAL_MS=1920

# Lower display thread priority (higher number = lower priority)
# Lets keyboard scanning/BLE take precedence over rendering
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_PRIORITY=7

# ── Encoders ──
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y
